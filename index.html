<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1ª Treino do Fogo - Inscreva-se</title>
    <style>
        :root {
            --primary: #e74c3c;
            --primary-dark: #c0392b;
            --secondary: #3498db;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --success: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header */
        header {
            background: linear-gradient(rgba(61, 25, 19, 0.651), rgba(80, 44, 20, 0.8)), url('src/img/img-principal-header.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }

        .firefighter-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }
        
        header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
        }
        
        /* Seções */
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: var(--dark);
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 70px;
            height: 3px;
            background-color: var(--primary);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Sobre a Corrida */
        .about-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            align-items: center;
        }
        
        .about-text {
            flex: 1;
            min-width: 300px;
        }
        
        .about-image {
            flex: 1;
            min-width: 300px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Percurso */
        .course-info {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }

        .course-map {
            flex: 1;
            min-width: 300px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .course-map img {
            width: 100%;
            height: auto;
            display: block;
        }

        .course-details {
            flex: 1;
            min-width: 300px;
        }

        .course-details h3 {
            margin-bottom: 20px;
            color: var(--dark);
        }

        .course-details ul {
            list-style: none;
            margin-bottom: 30px;
        }

        .course-details ul li {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
        }

        .course-details ul li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        .course-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }

        .stat-box {
            flex: 1;
            min-width: 150px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .stat-box .number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }

        .stat-box .label {
            font-size: 0.9rem;
            color: var(--dark);
        }

        /* Seção de Numeração */
        .numeracao-content {
            background: linear-gradient(135deg, #ffffff00 0%, #ff000000 100%);
            border-radius: 15px;
            padding: 60px 40px;
            text-align: center;
            color: white;
        }

        .numeracao-card {
            background: white;
            border-radius: 10px;
            padding: 40px;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .numero-peito-grande {
            font-size: 5rem;
            font-weight: bold;
            color: var(--primary);
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .participante-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin-top: 25px;
            text-align: left;
        }

        .participante-info h4 {
            color: var(--dark);
            margin-bottom: 15px;
            text-align: center;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }

        .info-label {
            font-weight: 600;
            color: var(--dark);
        }

        .info-value {
            color: #666;
        }

        .download-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .download-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .download-btn:hover {
            background: #2980b9;
        }

        /* Regulamento */
        .regulation-content {
            background-color: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .regulation-section {
            margin-bottom: 30px;
        }

        .regulation-section h3 {
            color: var(--dark);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .regulation-section ul {
            list-style: none;
        }

        .regulation-section ul li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .regulation-section ul li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--secondary);
            font-weight: bold;
        }

        .regulation-note {
            background-color: #f8f9fa;
            padding: 20px;
            border-left: 4px solid var(--secondary);
            margin-top: 30px;
            border-radius: 4px;
        }
        
        /* Formulário */
        .form-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            border-color: var(--secondary);
            outline: none;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .form-row .form-group {
            flex: 1;
            min-width: 200px;
        }
        
        .payment-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .payment-option {
            flex: 1;
            min-width: 120px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-option:hover {
            border-color: var(--secondary);
        }
        
        .payment-option.selected {
            border-color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .payment-option img {
            height: 30px;
            margin-bottom: 5px;
        }
        
        .terms {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
        }
        
        .terms input {
            width: auto;
            margin-right: 10px;
            margin-top: 5px;
        }
        
        .terms label {
            font-weight: normal;
        }
        
        .terms a {
            color: var(--secondary);
            text-decoration: none;
        }
        
        .terms a:hover {
            text-decoration: underline;
        }
        
        .submit-btn {
            width: 100%;
            background-color: var(--primary);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 4px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .submit-btn:hover {
            background-color: var(--primary-dark);
        }

        .submit-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        /* Modal de confirmação */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 8px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .modal h3 {
            color: var(--success);
            font-size: 1.8rem;
            margin-bottom: 20px;
        }
        
        .modal p {
            margin-bottom: 30px;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 30px;
        }
        
        .footer-section {
            flex: 1;
            min-width: 250px;
            text-align: left;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 10px;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .copyright {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* Mensagens */
        .message {
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: none;
        }

        .success-message {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 10px;
            color: var(--secondary);
            font-weight: 600;
        }
                
        /* Responsividade */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.2rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .form-container {
                padding: 20px;
            }

            .regulation-content {
                padding: 20px;
            }

            .numeracao-content {
                padding: 40px 20px;
            }

            .numero-peito-grande {
                font-size: 3.5rem;
            }

            .download-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>

    <!-- Cabeçalho -->
    <header>
        <div class="container">
            <span class="firefighter-icon">🚒</span>
            <h1>1ª Treino do Fogo - Alunos de Bombeiros Civis de Araruna-PB</h1>
            <p>Participe da corrida beneficente dos Bombeiros Civis 2025! 🏃‍♂️
            São 5 km de desafio — cada passo ajuda a realizar nosso sonho</p>
            <a href="#inscricao" class="btn">Inscreva-se Agora</a>
        </div>
    </header>

    <!-- Sobre a Corrida -->
    <section id="sobre">
        <div class="container">
            <div class="section-title">
                <h2>Sobre a Corrida</h2>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Corrida para todos os níveis: viva essa experiência única</h3><br>
                    <p><strong>1ª Treino do Fogo – 2025</strong> será realizada em <strong>Araruna-PB</strong>, no dia <strong>18 de outubro</strong>.</p> <br>
                    <p>Os participantes devem chegar para <strong>concentração às 19h00</strong>, e a <strong>largada será às 19h30</strong>, na <strong>Av. Cel. Pedro Targino</strong>, em frente à <strong>Araruna Esportes</strong>.</p><br>
                    <p>O percurso terá <strong>5 km</strong>.</p><br>
                    <p>Todos os corredores receberão <strong>a numeração de peito</strong>.</p><br>
                    <p>O evento é organizado seguindo <strong>todos os protocolos de segurança</strong> e contará com <strong>equipe médica, ponto de hidratação e muito mais</strong>.</p>
                </div>
                <div class="about-image">
                    <img src="src/img/img-principal-header.jpg" alt="Corredores em ação">
                </div>
            </div>
        </div>
    </section>

    <!-- Percurso -->
    <section id="percurso">
        <div class="container">
            <div class="section-title">
                <h2>Percurso da Corrida</h2>
                <p>Conheça o trajeto e prepare-se para o desafio</p>
            </div>
            
            <div class="course-info">
                <div class="course-map">
                    <img src="src/img/circuito-main.jpg" alt="Mapa do percurso">
                </div>
                <div class="course-details">
                    <h3>Detalhes do Percurso</h3>
                    <p>O percurso de 5km foi cuidadosamente planejado para oferecer uma experiência desafiadora e agradável, passando pelos principais pontos da cidade:</p>
                    
                    <ul>
                        <li><strong>Largada:</strong> Avenida cel. Pedro targino ( Araruna Esportes )</li>
                        <li><strong>Km 5:</strong> Araruna Esportes  - posto de hidratação</li>
                        <li><strong>Chegada:</strong> Avenida cel. Pedro targino ( Araruna Esportes )</li>
                    </ul>
                    
                    <h4>Para a corrida de 5km:</h4>
                    <p>Trajeto mais curto e acessível, ideal para iniciantes e famílias. Percurso circular com largada e chegada no mesmo local.</p>
                </div>
            </div>
            
            <div class="course-stats">
                <div class="stat-box">
                    <span class="number">5km</span>
                    <span class="label">Corrida Principal</span>
                </div>
                <div class="stat-box">
                    <span class="number">1</span>
                    <span class="label">Posto de Hidratação</span>
                </div>
                <div class="stat-box">
                    <span class="number">1</span>
                    <span class="label">Posto de Bombeiros Civis</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Regulamento -->
    <section id="regulamento">
        <div class="container">
            <div class="section-title">
                <h2>Regulamento</h2>
                <p>Conheça as regras e diretrizes do evento</p>
            </div>
            
            <div class="regulation-content">
                <div class="regulation-section">
                    <h3>1. Inscrições</h3>
                    <ul>
                        <li>As inscrições estarão abertas até --/10/2025 ou até esgotarem as vagas</li>
                        <li>A taxa de inscrição não será reembolsada em caso de desistência</li>
                        <li>É permitida a transferência de inscrição até 3 dias antes do evento</li>
                    </ul>
                </div>
                
                <div class="regulation-section">
                    <h3>2. Kit do Corredor</h3>
                    <ul>
                        <li>O kit (numeração de peito) deverá ser retirado no dia <strong>17/10/2025</strong></li>
                        <li>Local de retirada: <strong>Avenida cel Pedro targino ( Araruna Esportes )</strong></li>
                        <li>É obrigatória a apresentação de documento com foto e comprovante de inscrição</li>
                        <li>O kit inclui apenas: <strong>numeração de peito</strong></li>
                        <li>Será possível retirar a numeração no dia da prova (18/10)</li>
                    </ul>
                </div>
                                
                <div class="regulation-section">
                    <h3>3. Dia da Corrida</h3>
                    <ul>
                        <li>Os corredores devem chegar com 30 minutos de antecedência</li>
                        <li>O aquecimento oficial será às 19h00</li>
                        <li>A largada da corrida de 5km será às 19h30</li>
                        <li>É obrigatório o uso do número de peito fornecido pela organização</li>
                    </ul>
                </div>
                
                <div class="regulation-section">
                    <h3>4. Premiação</h3>
                    <ul>
                        <li>TROFÉU E MEDALHA - 1° AO 5° LUGAR GERAL MASCULINO E FEMININO LOCAL</li>
                        <li>TROFÉU E MEDALHA - 1° AO 5° LUGAR GERAL MASCULINO E FEMININO VISITANTE</li>
                        <li>A cerimônia de premiação começará às --:--h</li>
                    </ul>
                </div>
                
                <div class="regulation-section">
                    <h3>5. Regras Gerais</h3>
                    <ul>
                        <li>É proibida a participação de atletas não inscritos</li>
                        <li>O percurso deve ser seguido rigorosamente</li>
                        <li>Animais não são permitidos no percurso</li>
                        <li>A organização se reserva o direito de desclassificar participantes que descumprirem as regras</li>
                    </ul>
                </div>
                
                <div class="regulation-note">
                    <p><strong>Importante:</strong> Em caso de condições climáticas adversas, a organização poderá alterar o percurso ou horários para garantir a segurança dos participantes. Todas as alterações serão comunicadas com antecedência.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Formulário de Inscrição -->
    <section id="inscricao">
        <div class="container">
            <div class="section-title">
                <h2>Formulário de Inscrição</h2>
                <p>Preencha os dados abaixo para garantir sua participação</p>
            </div>
            <div class="form-container">
                
                <form id="registration-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nome">Nome Completo *</label>
                            <input type="text" id="nome" name="nome" required minlength="8" placeholder="Seu nome completo">
                        </div>
                        <div class="form-group">
                            <label for="cpf">CPF *</label>
                            <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">E-mail *</label>
                            <input type="email" id="email" name="email" required placeholder="seu@email.com">
                        </div>
                        <div class="form-group">
                            <label for="telefone">Telefone *</label>
                            <input type="tel" id="telefone" name="telefone" required placeholder="(11) 99999-9999">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="data-nascimento">Data de Nascimento *</label>
                            <input type="date" id="data-nascimento" name="data-nascimento" required>
                        </div>
                        <div class="form-group">
                            <label for="genero">Gênero *</label>
                            <select id="genero" name="genero" required>
                                <option value="">Selecione</option>
                                <option value="masculino">Masculino</option>
                                <option value="feminino">Feminino</option>
                                <option value="outro">Outro</option>
                                <option value="prefiro-nao-informar">Prefiro não informar</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="categoria">Categoria *</label>
                            <select id="categoria" name="categoria" required>
                                <option value="">Selecione</option>
                                <option value="5km">Corrida 5km</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <!-- Campo vazio para manter o layout balanceado -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Forma de Pagamento *</label>
                        <div class="payment-options">
                            <div class="payment-option selected" data-value="pix">
                                <img src="https://logospng.org/download/pix/logo-pix-icone-1024.png" alt="PIX">
                                <div>PIX</div>
                            </div>
                        </div>
                        <input type="hidden" id="pagamento" name="pagamento" required value="pix">
                    </div>
                    
                    <div class="terms">
                        <input type="checkbox" id="termos" name="termos" required>
                        <label for="termos">Li e concordo com os <a href="#">termos e condições</a> do evento *</label>
                    </div>

                    <div class="loading" id="loading">
                        ⏳ Enviando sua inscrição...
                    </div>
                    
                    <button type="submit" class="submit-btn" id="submit-btn">Finalizar Inscrição - R$ 25,00</button>

                <div class="success-message" id="success-message"></div>
                <div class="error-message" id="error-message"></div>
                </form>
            </div>
        </div>
    </section>

    <!-- Modal de Confirmação -->
    <div class="modal" id="confirmation-modal">
        <div class="modal-content">
            <h3>Inscrição Realizada com Sucesso!</h3>
            <p>Obrigado por se inscrever no 1ª Treino do Fogo 2025. Seu número de peito foi gerado automaticamente!</p>
            <p>Número da inscrição: <strong id="numero-inscricao">#TDF2025001</strong></p>
            <button class="btn" onclick="closeModal()">Fechar</button>
        </div>
    </div>

    <!-- Seção de Numeração -->
    <section id="numeracao">
        <div class="container">
            <div class="section-title">
                <h2>Numeração de Peito</h2>
                <p>Confira seu número personalizado para a corrida</p>
            </div>
            
            <div class="numeracao-content">
                <div class="numeracao-card">
                    <h3 style="color: var(--dark); margin-bottom: 10px;">SEU NÚMERO DE PEITO</h3>
                    <p style="color: #666; margin-bottom: 20px;">Número gerado automaticamente após a inscrição</p>
                    
                    <div class="numero-peito-grande" id="numero-peito-display">
                        ---
                    </div>
                    
                    <p style="color: #666; font-size: 0.9rem;">VÁLIDO PARA A CORRIDA - 18/10/2025</p>
                    
                    <div class="participante-info" id="participante-info" style="display: none;">
                        <h4>📋 DADOS DO PARTICIPANTE</h4>
                        <div class="info-item">
                            <span class="info-label">Nome:</span>
                            <span class="info-value" id="info-nome">---</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Categoria:</span>
                            <span class="info-value" id="info-categoria">---</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Data de Inscrição:</span>
                            <span class="info-value" id="info-data">---</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Status:</span>
                            <span class="info-value" id="info-status">---</span>
                        </div>
                    </div>
                    
                    <div class="download-buttons" id="download-section" style="display: none;">
                        <button class="download-btn" onclick="window.print()">
                            🖨️ Imprimir Comprovante
                        </button>
                        <button class="download-btn" onclick="salvarComoImagem()">
                            💾 Salvar Número
                        </button>
                        <button class="download-btn" onclick="compartilharNumero()">
                            📤 Compartilhar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Rodapé -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Contato</h3>
                    <ul>
                        <li>E-mail: ararasbravo@gmail.com</li>
                        <li>Telefone: (83) 99607-7120</li>
                        <li>Endereço:  Avenida cel. Pedro targino - Araruna Esportes</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Links Rápidos</h3>
                    <ul>
                        <li><a href="#sobre">Sobre a Corrida</a></li>
                        <li><a href="#inscricao">Inscrição</a></li>
                        <li><a href="#percurso">Percurso</a></li>
                        <li><a href="#regulamento">Regulamento</a></li>
                        <li><a href="#numeracao">Numeração</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Redes Sociais</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="https://www.instagram.com/ararasbravo?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==">Instagram</a></li>
                        <li><a href="#">Twitter</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 1ª Treino do Fogo – Desenvolvido por <strong><a href="https://www.linkedin.com/in/hugomathais/" style="color: #ffffff; text-decoration: none;">Victor Hugo Matias Salustino</a></strong></p>
            </div>
        </div>
    </footer>

    <script>
        
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzWUeT1-56nFkEv0tIH6A_UO1hWK6ILpPOqqdLgAIv1zXP_aHnBdv4A9Q53zpeu2evc/exec';

        // Elementos do DOM
        const form = document.getElementById('registration-form');
        const submitBtn = document.getElementById('submit-btn');
        const loading = document.getElementById('loading');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const numeroPeitoDisplay = document.getElementById('numero-peito-display');
        const participanteInfo = document.getElementById('participante-info');
        const downloadSection = document.getElementById('download-section');

        // ========== SISTEMA DE NÚMEROS ALEATÓRIOS E PREVENÇÃO DE DUPLICATAS ==========
        
        // Conjunto para armazenar números já utilizados (em memória)
        let numerosUtilizados = new Set();
        
        // Função para gerar número aleatório único entre 100 e 999
        function gerarNumeroAleatorio() {
            let numero;
            let tentativas = 0;
            const maxTentativas = 900; // Números de 100 a 999
            
            do {
                numero = Math.floor(Math.random() * 900) + 100; // 100-999
                tentativas++;
                
                // Se já tentou muitos números, expande o range
                if (tentativas > 50) {
                    numero = Math.floor(Math.random() * 9000) + 1000; // 1000-9999
                }
                
                // Previne loop infinito
                if (tentativas > maxTentativas) {
                    console.error('Não foi possível gerar número único');
                    return Math.floor(Math.random() * 9000) + 1000; // Força um número
                }
                
            } while (numerosUtilizados.has(numero));
            
            numerosUtilizados.add(numero);
            console.log(`Número gerado: ${numero}, Tentativas: ${tentativas}`);
            return numero;
        }

        // Função para verificar se o CPF já está inscrito
        function verificarCPFExistente(cpf) {
            // Remove caracteres não numéricos do CPF para comparação
            const cpfLimpo = cpf.replace(/\D/g, '');
            
            // Verifica no localStorage primeiro
            if (typeof(Storage) !== "undefined") {
                const dadosSalvos = localStorage.getItem("inscricaoTreinoDoFogo");
                if (dadosSalvos) {
                    const inscricao = JSON.parse(dadosSalvos);
                    // Se já existe uma inscrição salva, impede nova inscrição
                    return true;
                }
            }
            
            // Aqui você pode implementar uma verificação no servidor também
            // Por enquanto, retorna false (não existe) para permitir a inscrição
            return false;
        }

        // Função para SALVAR o número de peito no localStorage
        function salvarNumeroPeito(numeroPeito, dadosParticipante, cpf) {
            if (typeof(Storage) !== "undefined") {
                const dadosInscricao = {
                    numero: numeroPeito,
                    nome: dadosParticipante.nome,
                    cpf: cpf.replace(/\D/g, ''), // Salva CPF limpo
                    categoria: dadosParticipante.categoria,
                    data: dadosParticipante.data,
                    status: 'Confirmado',
                    timestamp: new Date().toISOString()
                };
                localStorage.setItem("inscricaoTreinoDoFogo", JSON.stringify(dadosInscricao));
                console.log('Número salvo no localStorage:', dadosInscricao);
            }
        }

        // Função para CARREGAR o número de peito do localStorage
        function carregarNumeroPeito() {
            if (typeof(Storage) !== "undefined") {
                const dadosSalvos = localStorage.getItem("inscricaoTreinoDoFogo");
                
                if (dadosSalvos) {
                    const inscricao = JSON.parse(dadosSalvos);
                    
                    // Adiciona o número ao conjunto de utilizados
                    numerosUtilizados.add(inscricao.numero);
                    
                    // Preenche a seção de numeração na página
                    document.getElementById("numero-peito-display").textContent = inscricao.numero;
                    document.getElementById("info-nome").textContent = inscricao.nome;
                    document.getElementById("info-categoria").textContent = inscricao.categoria;
                    document.getElementById("info-data").textContent = inscricao.data;
                    document.getElementById("info-status").textContent = inscricao.status;
                    
                    // Torna a seção de informações visível
                    document.getElementById("participante-info").style.display = 'block';
                    document.getElementById("download-section").style.display = 'block';
                    
                    console.log('Número carregado do localStorage:', inscricao);
                    
                    // Desabilita o formulário se já existe inscrição
                    desabilitarFormulario();
                }
            }
        }

        // Função para desabilitar o formulário se já inscrito
        function desabilitarFormulario() {
            const form = document.getElementById('registration-form');
            const inputs = form.querySelectorAll('input, select, button');
            
            inputs.forEach(input => {
                input.disabled = true;
            });
            
            submitBtn.textContent = 'Você já está inscrito!';
            submitBtn.style.backgroundColor = '#95a5a6';
            
            // Adiciona mensagem informativa
            const mensagem = document.createElement('div');
            mensagem.className = 'success-message';
            mensagem.style.display = 'block';
            mensagem.innerHTML = '✅ Você já possui uma inscrição ativa. Em caso de dúvidas, entre em contato com a organização.';
            form.insertBefore(mensagem, form.firstChild);
        }

        // ========== CONFIGURAÇÕES INICIAIS ==========

        // Configuração automática do PIX e carrega número salvo
        document.addEventListener('DOMContentLoaded', function() {
            const paymentOption = document.querySelector('.payment-option');
            const paymentInput = document.getElementById('pagamento');
            
            paymentOption.classList.add('selected');
            paymentInput.value = 'pix';
            
            // Carrega o número salvo ao iniciar a página
            carregarNumeroPeito();
        });

        // Máscara para CPF
        document.getElementById('cpf').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 3 && value.length <= 6) {
                value = value.replace(/(\d{3})(\d+)/, '$1.$2');
            } else if (value.length > 6 && value.length <= 9) {
                value = value.replace(/(\d{3})(\d{3})(\d+)/, '$1.$2.$3');
            } else if (value.length > 9) {
                value = value.replace(/(\d{3})(\d{3})(\d{3})(\d+)/, '$1.$2.$3-$4');
            }
            e.target.value = value;
        });

        // Máscara para telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 2 && value.length <= 6) {
                value = value.replace(/(\d{2})(\d+)/, '($1) $2');
            } else if (value.length > 6 && value.length <= 10) {
                value = value.replace(/(\d{2})(\d{4})(\d+)/, '($1) $2-$3');
            } else if (value.length > 10) {
                value = value.replace(/(\d{2})(\d{5})(\d+)/, '($1) $2-$3');
            }
            e.target.value = value;
        });

// ========== ENVIO DO FORMULÁRIO ==========

// Envio do formulário
form.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    // Verifica se já existe inscrição
    const cpf = document.getElementById('cpf').value;
    if (verificarCPFExistente(cpf)) {
        showError('Este CPF já possui uma inscrição ativa. Cada pessoa só pode se inscrever uma vez.');
        return;
    }
    
    // Validar termos
    if (!document.getElementById('termos').checked) {
        showError('Por favor, aceite os termos e condições para continuar.');
        return;
    }

    // Configurar loading
    submitBtn.disabled = true;
    loading.style.display = 'block';
    hideMessages();

    try {
        const formData = new FormData(this);
        
        // ✅ GERA número aleatório único
        const numeroAleatorio = gerarNumeroAleatorio();
        console.log('🎯 Número aleatório gerado:', numeroAleatorio);
        
        // ✅ ADICIONA o número aleatório ao formData (CORRETO)
        formData.append('numero-aleatorio', numeroAleatorio.toString());
        
        const response = await fetch(SCRIPT_URL, {
            method: 'POST',
            body: formData
        });
        
        const result = await response.json();
        console.log('📨 Resposta do servidor:', result);
        
        if (result.status === 'success') {
            showSuccess('Inscrição realizada com sucesso!');
            
            // ✅ USA o número aleatório que GERAMOS, não o do servidor
            showNumeroPeito(numeroAleatorio, result.dados);
            salvarNumeroPeito(numeroAleatorio, result.dados, cpf);
            
            document.getElementById('numero-inscricao').textContent = '#TDF2025' + numeroAleatorio;
            document.getElementById('confirmation-modal').style.display = 'flex';
            form.reset();
            
            // Desabilita formulário após inscrição bem-sucedida
            desabilitarFormulario();
            
            // Restaurar PIX selecionado
            document.querySelector('.payment-option').classList.add('selected');
            document.getElementById('pagamento').value = 'pix';
            
        } else {
            throw new Error(result.message);
        }
        
    } catch (error) {
        console.error('Erro:', error);
        showError('Erro na inscrição: ' + error.message);
    } finally {
        submitBtn.disabled = false;
        loading.style.display = 'none';
    }
});

        function showSuccess(message) {
            successMessage.textContent = message;
            successMessage.style.display = 'block';
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.style.display = 'block';
        }

        function hideMessages() {
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
        }

        function showNumeroPeito(numero, dados) {
            // Atualizar display do número
            numeroPeitoDisplay.textContent = numero;
            
            // Atualizar informações do participante
            document.getElementById('info-nome').textContent = dados.nome;
            document.getElementById('info-categoria').textContent = dados.categoria;
            document.getElementById('info-data').textContent = dados.data;
            document.getElementById('info-status').textContent = 'Confirmado';
            
            // Mostrar seções
            participanteInfo.style.display = 'block';
            downloadSection.style.display = 'block';
            
            // Rolagem suave para a seção de numeração
            document.getElementById('numeracao').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function closeModal() {
            document.getElementById('confirmation-modal').style.display = 'none';
        }

        function salvarComoImagem() {
            alert('Funcionalidade de salvar imagem será implementada em breve!');
        }

        function compartilharNumero() {
            const numero = document.getElementById('numero-peito-display').textContent;
            const nome = document.getElementById('info-nome').textContent;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Meu Número da Corrida - 1ª Treino do Fogo',
                    text: `Olá! Meu número para a corrida 1ª Treino do Fogo é ${numero}. Nome: ${nome}`,
                    url: window.location.href
                });
            } else {
                alert(`Compartilhe seu número: ${numero} - Nome: ${nome}`);
            }
        }

        // Configurar data mínima e máxima para data de nascimento
        document.addEventListener('DOMContentLoaded', function() {
            const dataInput = document.getElementById('data-nascimento');
            const hoje = new Date();
            const dataMinima = new Date(hoje.getFullYear() - 80, hoje.getMonth(), hoje.getDate());
            const dataMaxima = new Date(hoje.getFullYear() - 10, hoje.getMonth(), hoje.getDate());
            
            dataInput.min = dataMinima.toISOString().split('T')[0];
            dataInput.max = dataMaxima.toISOString().split('T')[0];
        });
    </script>
</body>
</html>